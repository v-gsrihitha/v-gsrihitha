{
    "name": "GCPMonitorDCR",
    "apiVersion": "2022-06-01-preview",
    "type": "Microsoft.Insights/dataCollectionRules",
    "location": "{{location}}",
    "kind": "[variables('blanks')]",
    "properties": {
        "dataCollectionEndpointId": "[variables('dataCollectionEndpointId1')]",
        "streamDeclarations": {
            "Custom-GCPMonitor": {
                "columns": [
                    {
                        "name": "metricLabelsLoadbalanced",
                        "type": "string"
                    },
                    {
                        "name": "valueDoubleValue",
                        "type": "double"
                    },
                    {
                        "name": "metricLabelsDeviceType",
                        "type": "string"
                    },
                    {
                        "name": "metricLabelsInstanceName",
                        "type": "string"
                    },
                    {
                        "name": "metricLabelsDeviceName",
                        "type": "string"
                    },
                    {
                        "name": "metricLabelsStorageType",
                        "type": "string"
                    },
                    {
                        "name": "metricType",
                        "type": "string"
                    },
                    {
                        "name": "resourceType",
                        "type": "string"
                    },
                    {
                        "name": "resourceLabelsProjectId",
                        "type": "string"
                    },
                    {
                        "name": "resourceLabelsInstanceId",
                        "type": "string"
                    },
                    {
                        "name": "resourceLabelsZone",
                        "type": "string"
                    },
                    {
                        "name": "metricKind",
                        "type": "string"
                    },
                    {
                        "name": "valueType",
                        "type": "string"
                    },
                    {
                        "name": "intervalStartTime",
                        "type": "timestamp"
                    },
                    {
                        "name": "intervalEndTime",
                        "type": "timestamp"
                    },
                    {
                        "name": "valueInt64Value",
                        "type": "double"
                    }
                ]
            }
        },
        "destinations": {
            "logAnalytics": [
                {
                    "workspaceResourceId": "[variables('workspaceResourceId')]",
                    "name": "clv2ws1"
                }
            ]
        },
        "dataFlows": [
            {
                "streams": [
                    "Custom-GCPMonitor"
                ],
                "destinations": [
                    "clv2ws1"
                ],
                "transformKql": "source | extend TimeGenerated = now()",
                "outputStream": "Custom-GCPMonitorlogs_CL"
            }
        ]
    }
}